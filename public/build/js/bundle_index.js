$(document).ready((function(){grecaptcha.ready((function(){grecaptcha.execute("6Lf6HAAaAAAAAPCJp2-Bv5ljpsxz9yef-3LX9gLs",{action:"index_login"}).then((function(e){document.getElementById("g-recaptcha-response").value=e}))}));var e=document.getElementsByClassName("form-control");e.onpaste=function(e){e.preventDefault()},e.oncopy=function(e){e.preventDefault()},$('input[name="user_s"]').on("input",(function(){"password"!=$(this).attr("type")&&(this.value=this.value.replace(/[^0-9,a-z,A-Z]/g,""),this.value=this.value.substr(0,5))})),$('input[name="user_s"]').focus(),$('input[name="pass_s"],input[name="user_s"]').on("keydown",(function(e){$(".invalid-feedback").hasClass("active")&&$(".invalid-feedback").removeClass("active"),"user_s"==this.name&&"Enter"==e.key&&$("#sendFirstForm").trigger("click"),"pass_s"==this.name&&"Enter"==e.key&&$(".send-form-login").trigger("click")})),$("#tyc").on("change",(function(){$(".invalid-feedback").hasClass("active")&&$(".invalid-feedback").removeClass("active")})),$("#sendFirstForm").click((function(e){e.preventDefault();var a=$('input[name="user_s"]'),t=a.val();return t.length<5?(a.parents(".form-group").find(".invalid-feedback").addClass("active").html("El documento no es válido o presenta algún error. Por favor verifica que esté correcto."),!1):($('input[name="user_s"]').attr({type:"password",autocomplete:"off",readonly:"readonly"}),$('input[name="user_s"]').val(CryptoJS.SHA256(t)),$(".first-form").fadeOut(200,(function(){$(".second-form").fadeIn(300),$('input[name="date_s"]').focus()})),!1)})),$(".send-form-login").click((function(e){if(e.preventDefault(),null===document.querySelector(".second-form").offsetParent)return!1;var a,t=$('input[name="date_s"]');if(""==t.val())return a="Debes ingresar tu fecha de nacimiento.",t.parents(".form-group").find(".invalid-feedback").addClass("active").html(a),!1;if(!$("#tyc").prop("checked"))return $("#tyc").parents(".form-group").find(".invalid-feedback").addClass("active").html("Debes aceptar los términos y condiciones."),!1;var n=t.val();t.attr({type:"password",autocomplete:"off",readonly:"readonly"}),t.val(CryptoJS.SHA256(n)),$('input[name="user_password"]').val($('input[name="date_s"]').val()),$('input[name="date_s"]').val(""),$('input[name="user_name"]').val($('input[name="user_s"]').val()),$('input[name="user_s"]').val(""),$("#form_login").submit()})),$("#datepicker").datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,yearRange:"1940:2006",closeText:"Cerrar",prevText:"<Ant",nextText:"Sig>",name:"date_s",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],weekHeader:"Sm",firstDay:1,isRTL:!1,yearSuffix:"",beforeShow:function(e,a){setTimeout((function(){a.dpDiv.css({top:$("#datepicker").offset().top+35,left:$("#datepicker").offset().left})}),0)}})}));